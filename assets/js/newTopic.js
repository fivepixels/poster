(()=>{function e(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function t(t){return function(){var n=this,r=arguments;return new Promise((function(i,o){var a=t.apply(n,r);function s(t){e(a,i,o,s,c,"next",t)}function c(t){e(a,i,o,s,c,"throw",t)}s(void 0)}))}}var n=document.querySelector("#posterTitle"),r=document.querySelector("#description"),i=document.querySelector("#manyPositions"),o=document.querySelector("#agreeAndDisagree"),a=document.querySelector("#newPosterSubmitBtn"),s=document.querySelector("#errorMessage");s.innerText="",a.disabled=!0;var c="good-button",u="good-button__not-ready",p="good-input",l="bad-input",d={topic:!1,positions:""};function m(){d.topic&&d.positions?(a.className=c,a.disabled=!1):(a.className=u,a.disabled=!0)}function f(){return(f=t(regeneratorRuntime.mark((function e(t){var r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.value,e.next=3,fetch("/api/topics/".concat(r,"/exists"),{method:"POST"});case 3:i=e.sent,o=i.status,r?404===o?(s.innerText="",d.topic=!0,n.className=p):302===o&&(s.innerText="Topic Title : ".concat(r," is aleady taken."),d.topic=!1,n.className=l):(s.innerText="",d.topic=!1,n.className=l),m();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=t(regeneratorRuntime.mark((function e(t){var i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),i={title:n.value,description:r.value,type:d.positions},e.next=4,fetch("/topics/new",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}});case 4:201===(o=e.sent).status&&(window.location.href="/topics/".concat(i.title)),400===o.status&&(s.innerText="Error : Please try again");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.addEventListener("input",(function(e){return f.apply(this,arguments)})),i.addEventListener("click",(function(){i.className=c,o.className=u,d.positions="Many Positions",m()})),o.addEventListener("click",(function(){o.className=c,i.className=u,d.positions="Agree / Disagree",m()})),a.addEventListener("click",(function(e){return v.apply(this,arguments)}))})();